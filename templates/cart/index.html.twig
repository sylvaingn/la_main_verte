{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}

<h1>Votre panier :</h1>

	{% if items | length >0 %}
		<table class="table">
			<thead>
				<tr>
					<th>Produit</th>
					<th>Quantité</th>
					<th>Conditionnement</th>
					<th>Prix</th>
					<th>Total</th>
					<th>actions</th>
				</tr>
			</thead>
			<tbody>
				{% for item in items %}
					<tr>
						<td>{{ item.product.name}}</td>
						{# <td>{{ item.id }}</td> #}
						<td>{{ item.quantity }}</td>
						{# <td>{{ item.conditioning }}</td> #}
						<td>{{ item.stock.conditioning }}</td>
						<td>{{ item.stock.price }} €</td>
						<td>{{ item.quantity * item.stock.price }} €</td>
						<td>
							<a id="suppStockOffCart" href="{{ path("cart_remove", {'id': item.stock.id}) }}" class="btn">
								{# //fonction définie dans CartController :  #}
								<i class="fa fa-trash"></i>
							</a>
						</td>
					</tr>
				{% endfor %}
			</tbody>
			<tfoot>
				{# // total du panier #}
				<tr>
					<td colspan="4" class="text-right">Total :
					</td>
					{# //on regroupe name:price/quantity #}
					<td>{{ total }} €</td>
					<td><a id="confirmOrdered" href="#" class="btn btn-sm btn-primary">Passer la commande</a></td>
				</tr>
			</tfoot>
		</table>
	{% else %}
		<p>
			Panier vide !
		</p>
	{% endif %}

{% endblock %}
